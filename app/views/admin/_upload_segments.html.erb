<div id=title>
  Upload segments for <%= resource.name %>
</div>

<%
  url = if resource.one_ayah?
          upload_segments_cms_recitation_path(resource)
        else
          upload_segments_cms_audio_recitation_path(resource)
        end
%>

<div id="body">
  <%= form_with url: url, method: :put do |form| %>
    <div class="tw-p-6">
      <% if resource.segment_locked? %>
        <div class="tw-px-4 tw-py-3 tw-rounded tw-mb-4 tw-bg-blue-100 tw-border tw-border-blue-400 tw-text-blue-700">
          Segments are locked for this recitation. Please unlock the segments and try again.
        </div>
      <% else %>
        <div class="tw-mb-4 tw-mb-2">
          <div class="tw-flex tw-items-center tw-mb-2">
            <%= form.check_box :remove_existing, class: 'form-check-input' %>
            <%= form.label :remove_existing, 'Remove existing segments?', class: 'form-check-label' %>
          </div>
        </div>
        <div class="tw-mb-4 tw-mb-2">
          <%= form.label :file, 'Select timing db file' %>
          <%= form.file_field :file, class: 'form-control' %>
        </div>
      <% end %>
    </div>

    <% if !resource.segment_locked? %>
      <div class="tw-flex tw-items-center tw-justify-end tw-p-6 tw-border-t tw-border-gray-200 tw-space-x-2">
        <%= form.submit 'Upload', class: 'btn btn-success' %>
      </div>
    <% end %>
  <% end %>
</div>
