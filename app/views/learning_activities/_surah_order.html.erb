<%
  data = generate_surah_order_quiz
  current_surah = data[:current_surah]
  direction = data[:direction]
  question_text = direction == :before ? "What surah came before" : "What surah came after"
  direction_icon = direction == :before ? "←" : "→"
%>

<h2 class="heading my-3 tw-text-3xl tw-font-bold tw-text-center tw-mb-6 tw-text-gray-800">Surah Order Challenge</h2>

<div class="quiz" data-controller="activities--surah-order">
  <div class="tw-px-6 tw-py-5 tw-rounded-lg tw-mb-6 tw-bg-gradient-to-br tw-from-blue-50 tw-to-indigo-50 tw-border-2 tw-border-blue-200 tw-shadow-md">
    <div class="tw-text-center">
      <div class="tw-inline-block tw-px-4 tw-py-2 tw-rounded-full tw-bg-blue-500 tw-text-white tw-text-sm tw-font-semibold tw-mb-3">
        Surah <%= current_surah.chapter_number %>
      </div>
      <h3 class="tw-text-4xl tw-font-bold tw-mb-3 tw-text-gray-800 tw-tracking-wide">
        <%= current_surah.name_simple %>
      </h3>
      <div class="tw-flex tw-items-center tw-justify-center tw-gap-3 tw-mt-4">
        <% if direction == :before %>
          <span class="tw-text-3xl tw-text-blue-600 tw-font-bold">?</span>
          <span class="tw-text-2xl tw-text-blue-600"><%= direction_icon %></span>
        <% end %>
        <p class="tw-text-xl tw-font-semibold tw-text-gray-700">
          <%= question_text %> this surah?
        </p>
        <% if direction == :after %>
          <span class="tw-text-2xl tw-text-blue-600"><%= direction_icon %></span>
          <span class="tw-text-3xl tw-text-blue-600 tw-font-bold">?</span>
        <% end %>
      </div>
    </div>
  </div>

  <div class="tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3 tw-mt-6" id="options">
    <% data[:options].each do |option| %>
      <button class="surah-option tw-px-6 tw-py-4 tw-rounded-lg tw-font-semibold tw-text-lg tw-transition-all tw-duration-200 tw-bg-gradient-to-r tw-from-blue-500 tw-to-indigo-500 hover:tw-from-blue-600 hover:tw-to-indigo-600 tw-text-white tw-shadow-lg hover:tw-shadow-xl tw-transform hover:tw-scale-105 option tw-border-0" data-correct="<%= option[:correct] %>">
        <%= option[:name] %>
      </button>
    <% end %>
  </div>
</div>
