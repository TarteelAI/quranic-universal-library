<%
  page_number = @mushaf_page.page_number
  ayah_range_missing = @mushaf_page.first_verse_id.nil? || @mushaf_page.last_verse_id.nil?
  words_missing = @words.blank?
%>

<div class="page-wrapper tw-container tw-max-w-7xl tw-mx-auto tw-px-4 page-section">
  <%= turbo_frame_tag "page-preview-#{page_number}" do %>
    <% if ayah_range_missing || words_missing %>
      <%= render 'missing_required_data', step: 'preview' %>
    <% else %>
      <div class="mushaf-wrapper">
        <div class="mushaf-layout <%= @mushaf.default_font_name %>">
          <%= render 'shared/mushaf_page', words: @words, page: page_number, mushaf: @mushaf, name: @resource.name %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>