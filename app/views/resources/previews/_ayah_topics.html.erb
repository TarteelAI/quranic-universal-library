<div class="tw-mt-5">
  <ul class="nav nav-tabs" id="topics-docs-tab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active"
              id="tab-topics"
              data-bs-toggle="tab"
              data-bs-target="#tab-topics-pane"
              type="button"
              role="tab"
              aria-controls="tab-topics-pane"
              aria-selected="true">
        Topics
      </button>
    </li>

    <li class="nav-item" role="presentation">
      <button class="nav-link"
              id="tab-help"
              data-bs-toggle="tab"
              data-bs-target="#tab-help-pane"
              type="button" role="tab"
              aria-controls="tab-help-pane"
              aria-selected="false">
        Help
      </button>
    </li>
  </ul>

  <div class="tab-content tw-p-2 tw-mt-3" id="topics-docs-tab-content">
    <div class="tab-pane show active"
         id="tab-topics-pane"
         role="tabpanel"
         aria-labelledby="tab-topics" tabindex="0">
      <div class="tw-space-y-6">
        
        <% if @topic.present? %>
          <!-- SHOW PAGE: Display specific topic details -->
          <%= render 'resources/previews/ayah_topics/topic_show', 
                     topic: @topic, 
                     verse_topics: @verse_topics, 
                     resource: resource %>
        <% else %>
          <!-- INDEX PAGE: List all topics with pagination -->
          <%= render 'resources/previews/ayah_topics/topic_index', resource: resource %>
        <% end %>
      </div>
    </div>

    <div class="tab-pane"
         id="tab-help-pane"
         role="tabpanel"
         aria-labelledby="tab-help" tabindex="1">
      <%= render 'resources/previews/ayah_topics/help' %>
    </div>
  </div>
</div>
