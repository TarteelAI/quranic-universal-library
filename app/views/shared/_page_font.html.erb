<style>
  <%
  pages = (local_assigns[:pages] || font_ids(verses)).map(&:to_i)
  font_cdn = "https://static-cdn.tarteel.ai/qul/fonts"
  asset_version = "3.1"
  %>

  <% pages.each do |i| %>
  <% if i>=1 && i <= 604 %>
  @font-face {
      font-family: 'p<%= i %>-v2';
      src: local(QCF200<%=i%>),
      url('<%= "#{font_cdn}/quran_fonts/v2/woff2/p#{i}.woff2?v=#{asset_version}" %>') format('woff2'),
      url('<%= "#{font_cdn}/quran_fonts/v2/woff/p#{i}.woff?v=#{asset_version}" %>') format('woff'),
      url('<%= "#{font_cdn}/quran_fonts/v2/ttf/p#{i}.ttf?v=#{asset_version}" %>') format('truetype');
      font-display: swap;
  }

  @font-face {
      font-family: 'p<%= i %>-v1';
      src: local(QCF_P<%=i.to_s.rjust(3, '0')%>),
      url('<%= "#{font_cdn}/quran_fonts/v1-optimized/woff2/p#{i}.woff2?v=#{asset_version}"%>'),
      url('<%= "#{font_cdn}/quran_fonts/v1-optimized/woff/p#{i}.woff?v=#{asset_version}" %>') format('woff'),
      url('<%= "#{font_cdn}/quran_fonts/v1-optimized/ttf/p#{i}.ttf?v=#{asset_version}" %>') format('truetype');
      font-display: swap;
  }

  @font-face {
      font-family: 'p<%= i %>-v4-tajweed';
      src: local(QCF4<%=i.to_s.rjust(3, '0')%>_COLOR),
      url('<%= "#{font_cdn}/quran_fonts/v4-tajweed/woff2/p#{i}.woff2?v=#{asset_version}"%>'),
      url('<%= "#{font_cdn}/quran_fonts/v4-tajweed/woff/p#{i}.woff?v=#{asset_version}" %>') format('woff'),
      url('<%= "#{font_cdn}/quran_fonts/v4-tajweed/ttf/p#{i}.ttf?v=#{asset_version}" %>') format('truetype');
      font-display: swap;
  }

  .p<%= i %>-v1 {
      font-size: 30px;
      font-family: 'p<%=i%>-v1';
  }

  .p<%= i %>-v2 {
      font-size: 30px;
      font-family: 'p<%=i%>-v2';
  }

  .p<%= i %>-v4-tajweed {
      font-family: 'p<%= i %>-v4-tajweed';
      font-size: 30px;
  }

  @font-palette-values --Light {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 0;
      override-colors:
      0 #000000ff,
      1 #A5A5A5ff,
      2 #A5A5A5ff,
      3 #B50000ff,
      4 #FF7B00ff,
      5 #CE9E00ff,
      6 #09B000ff,
      7 #3F48E6ff,
      8 #2FADFFff,
      9 #F40000ff,
      10 #2CA4ABff,
      11 #FF0080ff,
      12 #D8E9D8ff,
      13 #000000ff,
      14 #000000ff,
      15 #A5A5A5ff,
      16 #CC9E00ff,
      17 #00B000ff;
  }

  @font-palette-values --Dark {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 5;
      override-colors:
      0 #E8E8E8ff,
      1 #B0B0B0ff,
      2 #B0B0B0ff,
      3 #FF6B6Bff,
      4 #FFA94Dff,
      5 #FFD93Dff,
      6 #6BCB77ff,
      7 #4D96FFff,
      8 #00D9FFff,
      9 #FF4D6Dff,
      10 #26C6DAff,
      11 #FF80ABff,
      12 #343A40ff,
      13 #E8E8E8ff,
      14 #E8E8E8ff,
      15 #B0B0B0ff,
      16 #FFD700ff,
      17 #69F0AEff;
  }

  @font-palette-values --Sepia {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 2;
      override-colors:
      0 #3D2914ff,
      1 #5C4033ff,
      2 #5C4033ff,
      3 #B84000ff,
      4 #C65D00ff,
      5 #8B6914ff,
      6 #1E7B1Eff,
      7 #2E4A8Fff,
      8 #0077A3ff,
      9 #C41E3Aff,
      10 #A32952ff,
      11 #2D6A4Fff,
      12 #FFF7EAff,
      13 #8B0000ff,
      14 #3D2914ff,
      15 #5C4033ff,
      16 #8B6508ff,
      17 #1A6B1Aff;
  }

  @font-palette-values --Normal {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 3;
      override-colors:
      0 #000000ff,
      1 #000000ff,
      2 #000000ff,
      3 #000000ff,
      4 #000000ff,
      5 #000000ff,
      6 #000000ff,
      7 #000000ff,
      8 #000000ff,
      9 #000000ff,
      10 #2CA4ABff,
      11 #FF0080ff,
      12 #D8E9D8ff,
      13 #000000ff,
      14 #000000ff,
      15 #000000ff,
      16 #CC9E00ff,
      17 #00B000ff;
  }

  @font-palette-values --Black {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 5;
      override-colors:
      0 #ffffffff,
      1 #ffffffff,
      2 #ffffffff,
      3 #ffffffff,
      4 #ffffffff,
      5 #ffffffff,
      6 #ffffffff,
      7 #ffffffff,
      8 #ffffffff,
      9 #ffffffff,
      10 #ffffffff,
      11 #ffffffff,
      12 #ffffffff,
      13 #ffffffff,
      14 #ffffffff,
      15 #ffffffff,
      16 #ffffffff,
      17 #ffffffff,
      18 #ffffffff;
  }

  @font-palette-values --Black1 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 5;
      override-colors: 13 black;
  }

  @font-palette-values --P1 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 1;
  }
  @font-palette-values --P2 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 2;
  }
  @font-palette-values --P3 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 3;
  }
  @font-palette-values --P4 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 4;
  }
  @font-palette-values --P5 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 5;
  }
  @font-palette-values --P6 {
      font-family: 'p<%= i %>-v4-tajweed';
      base-palette: 6;
  }
    <% end %>
  <% end %>

  .theme-normal {
      background: #fff;
      padding: 5px;
  }
  .theme-normal a{
      font-palette: --Normal;
  }

  .theme-light {
      background: #fff;
      padding: 5px;
  }

  .theme-light a{
      font-palette: --Light;
  }

  .theme-dark, .theme4, .theme1 {
      background: #343a40;
      padding: 5px;
  }

  .theme-dark a{
      font-palette: --Dark;
  }

  .theme-black {
      background: #343a40;
      padding: 5px;
  }

  .theme-black a {
      font-palette: --Black;
  }

  .theme-black .char-end a{
    font-palette: --Black1;
  }

  .theme-sepia {
      background: #fff7ea;
      padding: 5px;
  }

  .theme-sepia a{
    font-palette: --Sepia;
  }

  .theme1 a{
      font-palette: --P1;
  }
  .theme2 a{
      font-palette: --P2;
  }
  .theme3 a{
      font-palette: --P3;
  }
  .theme4 a{
      font-palette: --P4;
  }
  .theme5 a{
      font-palette: --P5;
  }
  .theme6 a{
      font-palette: --P6;
  }
</style>
